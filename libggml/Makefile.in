ALL_TARGET+=$(OBJDIR)/libggml.a

GGMLDIR= $(SRCROOT)/contrib/ggml
GGMLSRCROOT= ../../../
EC_SRCDIR=$(GGMLSRCROOT)/nux/libec
CUSTOM_SRCROOT=$(GGMLSRCROOT)

CPPFLAGS+=-I$(BLISSRCROOT)/libggml
@COMPILE_LIBEC@
@COMPILE_LIBM@

$(OBJDIR):
	mkdir -p $(OBJDIR)

$(OBJDIR)/libggml.a: $(OBJDIR)
	(cd $(GGMLDIR); make CFLAGS='$(CPPFLAGS) $(CFLAGS)' CC='$(CC)' LD='$(LD)' UNAME_S=none  UNAME_P=riscv UNAME_M=riscv64 GGML_NO_LLAMAFILE=1  LLAMA_NO_OPENMP=1)
